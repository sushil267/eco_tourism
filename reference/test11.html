<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Place search pagination</title>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <style>
      /* Card css*/
      body {
  background: #f2f2f2;
  font-family: 'proxima-nova-soft', sans-serif;
  font-size: 14px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.post-module {
  position: relative;
  z-index: 1;
  display: block;
  background: #FFFFFF;
  min-width: 270px;
  height: 470px;
  -webkit-box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.15);
  -moz-box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.15);
  box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.15);
  -webkit-transition: all 0.3s linear 0s;
  -moz-transition: all 0.3s linear 0s;
  -ms-transition: all 0.3s linear 0s;
  -o-transition: all 0.3s linear 0s;
  transition: all 0.3s linear 0s;
}
.post-module:hover,
.hover {
  -webkit-box-shadow: 0px 1px 35px 0px rgba(0, 0, 0, 0.3);
  -moz-box-shadow: 0px 1px 35px 0px rgba(0, 0, 0, 0.3);
  box-shadow: 0px 1px 35px 0px rgba(0, 0, 0, 0.3);
}
.post-module:hover .thumbnail img,
.hover .thumbnail img {
  -webkit-transform: scale(1.1);
  -moz-transform: scale(1.1);
  transform: scale(1.1);
  opacity: .6;
}
.post-module .thumbnail {
  background: #000000;
  height: 400px;
  overflow: hidden;
}
.post-module .thumbnail .date {
  position: absolute;
  top: 20px;
  right: 20px;
  z-index: 1;
  background: #e74c3c;
  width: 55px;
  height: 55px;
  padding: 12.5px 0;
  -webkit-border-radius: 100%;
  -moz-border-radius: 100%;
  border-radius: 100%;
  color: #FFFFFF;
  font-weight: 700;
  text-align: center;
  -webkti-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
.post-module .thumbnail .date .day {
  font-size: 18px;
}
.post-module .thumbnail .date .month {
  font-size: 12px;
  text-transform: uppercase;
}
.post-module .thumbnail img {
  display: block;
  width: 120%;
  -webkit-transition: all 0.3s linear 0s;
  -moz-transition: all 0.3s linear 0s;
  -ms-transition: all 0.3s linear 0s;
  -o-transition: all 0.3s linear 0s;
  transition: all 0.3s linear 0s;
}
.post-module .post-content {
  position: absolute;
  bottom: 0;
  background: #FFFFFF;
  width: 100%;
  padding: 30px;
  -webkti-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  -webkit-transition: all 0.3s cubic-bezier(0.37, 0.75, 0.61, 1.05) 0s;
  -moz-transition: all 0.3s cubic-bezier(0.37, 0.75, 0.61, 1.05) 0s;
  -ms-transition: all 0.3s cubic-bezier(0.37, 0.75, 0.61, 1.05) 0s;
  -o-transition: all 0.3s cubic-bezier(0.37, 0.75, 0.61, 1.05) 0s;
  transition: all 0.3s cubic-bezier(0.37, 0.75, 0.61, 1.05) 0s;
}
.post-module .post-content .category {
  position: absolute;
  top: -34px;
  left: 0;
  background: #e74c3c;
  padding: 10px 15px;
  color: #FFFFFF;
  font-size: 14px;
  font-weight: 600;
  text-transform: uppercase;
}
.post-module .post-content .title {
  margin: 0;
  padding: 0 0 10px;
  color: #333333;
  font-size: 26px;
  font-weight: 700;
}
.post-module .post-content .sub_title {
  margin: 0;
  padding: 0 0 20px;
  color: #e74c3c;
  font-size: 20px;
  font-weight: 400;
}
.post-module .post-content .description {
  display: none;
  color: #666666;
  font-size: 14px;
  line-height: 1.8em;
}
.post-module .post-content .post-meta {
  margin: 30px 0 0;
  color: #999999;
}
.post-module .post-content .post-meta .timestamp {
  margin: 0 16px 0 0;
}
.post-module .post-content .post-meta a {
  color: #999999;
  text-decoration: none;
}
.hover .post-content .description {
  display: block !important;
  height: auto !important;
  opacity: 1 !important;
}
.container {
  max-width: 800px;
  min-width: 640px;
  margin: 0 auto;
}
.container:before,
.container:after {
  content: '';
  display: block;
  clear: both;
}
.container .column {
  width: 50%;
  padding: 0 25px;
  -webkti-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  float: left;
}
.container .column .demo-title {
  margin: 0 0 15px;
  color: #666666;
  font-size: 18px;
  font-weight: bold;
  text-transform: uppercase;
}
.container .info {
  width: 300px;
  margin: 50px auto;
  text-align: center;
}
.container .info h1 {
  margin: 0 0 15px;
  padding: 0;
  font-size: 24px;
  font-weight: bold;
  color: #333333;
}
.container .info span {
  color: #666666;
  font-size: 12px;
}
.container .info span a {
  color: #000000;
  text-decoration: none;
}
.container .info span .fa {
  color: #e74c3c;
}



      /*  Card css */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #right-panel {
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
      }

      #right-panel select, #right-panel input {
        font-size: 15px;
      }

      #right-panel select {
        width: 100%;
      }

      #right-panel i {
        font-size: 12px;
      }
      #right-panel {
        font-family: Arial, Helvetica, sans-serif;
        position: absolute;
        right: 5px;
        top: 60%;
        margin-top: -195px;
        height: 330px;
        width: 200px;
        padding: 5px;
        z-index: 5;
        border: 1px solid #999;
        background: #fff;
      }
      h2 {
        font-size: 22px;
        margin: 0 0 5px 0;
      }
      ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
        height: 271px;
        width: 200px;
        overflow-y: scroll;
      }
      li {
        background-color: #f1f1f1;
        padding: 10px;
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
      }
      li:nth-child(odd) {
        background-color: #fcfcfc;
      }
      #more {
        width: 100%;
        margin: 5px 0 0 0;
      }
    </style>
    <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
  
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script>


    	   function initialize() {
       
       }
      $(window).load(function() {
  $('.post-module').hover(function() {
    $(this).find('.description').stop().animate({
      height: "toggle",
      opacity: "toggle"
    }, 300);
  });
});
      // This example requires the Places library. Include the libraries=places
      // parameter when you first load the API. For example:
      // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">

      var map;

      function initMap() {
        // Create the map.
        var pyrmont = {lat:26.922070 , lng: 75.778885};
        map = new google.maps.Map(document.getElementById('map'), {
          center: pyrmont,
          zoom: 17
        });

         var request = {
    location: pyrmont,
    radius: '500',
    query: 'attractions'
  };

  service = new google.maps.places.PlacesService(map);
  service.textSearch(request, callback);
      }
function createMarker(place) {

    new google.maps.Marker({
        position: place.geometry.location,
        map: map
    });
}
    function callback(results, status) {
  if (status == google.maps.places.PlacesServiceStatus.OK) {
  	//
    for (var i = 0; i < results.length; i++) {
      window.place = results[i];
      console.log(place);
      var pics = place.photos;
      if(pics && place.rating>4 && place.rating!=5 && place.opening_hours ){
      $('.car').append('<div class="column" data-toggle="modal" data-target="#myModal"><div class="demo-title"></div><div class="post-module"><div class="thumbnail"><div class="date"><div class="day">27</div><div class="month">Mar</div></div><img class="thumb" onclick="test(place.geometry.location.lat(),place.geometry.location.lng())" src="'+pics[0].getUrl({'maxWidth':5000,'maxHeight':5000})+'"/></div><div class="post-content"><div class="category">Photos</div><h1 class="title">'+place.name+'</h1><h2 class="sub_title">'+place.formatted_address+'</h2><p class="description">New York, the largest city in the U.S., is an architectural marvel with plenty of historic monuments, magnificent buildings and countless dazzling skyscrapers.</p><div class="post-meta"><span class="timestamp"><i class="fa fa-clock-"></i>Open Now:'+place.opening_hours.open_now+' </span><span class="comments"><i class="fa fa-comments"></i><a href="#">Rating :'+place.rating+'</a></span><span id="lat" style="display:none">'+place.geometry.location.lat()+'</span><span id="long" style="display:none">'+place.geometry.location.lng()+'</span</div></div></div></div>');
  
     }
     // else{
     // 	$('.car').append('<div class="column" data-toggle="modal" data-target="#myModal"><div class="demo-title"></div><div class="post-module"><div class="thumbnail"><div class="date"><div class="day">27</div><div class="month">Mar</div></div><img class="thumb" onclick="test(place.geometry.location.lat(),place.geometry.location.lng())" src="http://bit.ly/2vcsBpW"/></div><div class="post-content"><div class="category">Photos</div><h1 class="title">'+place.name+'</h1><h2 class="sub_title">'+place.formatted_address+'</h2><p class="description">New York, the largest city in the U.S., is an architectural marvel with plenty of historic monuments, magnificent buildings and countless dazzling skyscrapers.</p><div class="post-meta"><span class="timestamp"><i class="fa fa-clock-">o</i>Open Now: </span><span class="comments"><i class="fa fa-comments"></i><a href="#">Rating :'+place.rating+'</a></span><span id="lat" style="display:none" >'+place.geometry.location.lat()+'</span><span id="long" style="display:none">'+place.geometry.location.lng()+'</span</div></div></div></div>');
     // }
    }
  }
}
    </script>
    
  <body>
  	<div id="map" style="display: none"></div>
  	<!--  <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Open Modal</button> -->

      <div class="container car">
         
        </div>
    <div id="map" style="display:none;"></div>
    <div id="right-panel" style="display:none;">
      <h2>Results</h2>
      <ul id="places"></ul>
      <button id="more">More results</button>
    </div>

     <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">360` View</h4>
        </div>
        <div class="modal-body" id="pano" style="height: 600px;">
          <p>Some text in the modal.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>
  
   
       <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBXdLBd_7gZTK2rD2Z7F21XvjM8bIjFyXA&libraries=places&callback=initMap" async="false" defer="false"></script>
       <script type="text/javascript">
  	function test(a,b){
  	 console.log(b);
  	}
    
    
    $(".car").on("click", ".column", function(){
        window.v = this;
    var long1 = v.children[1].children[1].children[4].children[3].innerText;
    var lat1 = v.children[1].children[1].children[4].children[2].innerText;

          var fenway = {lat: parseFloat(lat1), lng: parseFloat(long1)};
    console.log(fenway);

        var map = new google.maps.Map(document.getElementById('map'), {
           center: fenway,
           zoom: 14
         });

         var panorama = new google.maps.StreetViewPanorama(
             document.getElementById('pano'), {
               position: fenway,
               pov: {
              heading: 34,
                pitch: 10
              }
            });
         console.log(panorama);
         map.setStreetView(panorama);

       
    
});
  </script>
  </body>
</html>